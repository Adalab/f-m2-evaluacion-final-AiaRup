"use strict";const searchButton=document.querySelector(".form__button"),searchInput=document.querySelector(".form__input"),seriesList=document.querySelector(".series"),defaultImage="https://via.placeholder.com/210x295/ffffff/666666/?text=TV",favoriteSeries=[],apiUrl="http://api.tvmaze.com/search/shows?q=",takeUserInput=()=>{const e={text:searchInput.value,status:!0};return e.text||(e.status=!1),e},checkImage=e=>e?e.medium:defaultImage,changeSeriesArray=e=>{favoriteSeries.includes(e)?favoriteSeries.splice(favoriteSeries.indexOf(e),1):favoriteSeries.push(e),console.log("array",favoriteSeries)},showOnClick=e=>{const{currentTarget:t}=e;t.classList.toggle("favorite");const s=t.dataset.id;changeSeriesArray(s)},showSeries=({show:e})=>{console.log(e);let{image:t,name:s,id:a}=e;t=checkImage(t);const r=document.createElement("li");r.classList.add("show"),r.setAttribute("data-id",a);const i=document.createElement("div"),c=document.createElement("img");i.classList.add("show__image"),c.setAttribute("alt",s),c.setAttribute("src",t),c.classList.add("show__image-fake"),i.setAttribute("style",`background-image:url('${t}')`);const o=document.createElement("h2");o.classList.add("show__title");const n=document.createTextNode(s);o.appendChild(n),r.appendChild(o),r.appendChild(i),r.addEventListener("click",showOnClick),seriesList.appendChild(r)},searchSeries=e=>{const t=takeUserInput();t.status&&fetch(`${e}${t.text}`).then(e=>e.json()).then(e=>{console.log(e);for(const t of e)showSeries(t)})};searchButton.addEventListener("click",()=>{searchSeries(apiUrl)});